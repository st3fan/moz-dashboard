<div ng-show="loading">
  <h3>Loading bugs .. this can take a minute</h3>
</div>


<div class="container" ng-show="!loading">

  <ul class="nav nav-tabs">
    <li ng-class="{active: tab == 'open'}"><a ng-click="showTab('open')">Open Kickoff Bugs</a></li>
    <li ng-class="{active: tab == 'stats'}"><a ng-click="showTab('stats')">Quarterly Statistics</a></li>
  </ul>

    <div ng-show="tab == 'open'">
      <ul class="nav nav-pills">
        <li ng-class="{active: filter == 'all'}"><a ng-click="filterBy('all')">All</a></li>
        <li ng-class="{active: filter == 'privacy'}"><a ng-click="filterBy('privacy')">Blocked on Privacy</a></li>
        <li ng-class="{active: filter == 'security'}"><a ng-click="filterBy('security')">Blocked on Security</a></li>
        <li ng-class="{active: filter == 'legal'}"><a ng-click="filterBy('legal')">Blocked on Legal</a></li>
        <li ng-class="{active: filter == 'data'}"><a ng-click="filterBy('data')">Blocked on Data Safety</a></li>
        <li ng-class="{active: filter == 'finance'}"><a ng-click="filterBy('finance')">Blocked on Finance</a></li>
      </ul>
      <h3>Showing {{bugs.length}} open project kick-off bugs</h3>
      <div ng-repeat="bug in bugs">
        <h4 style="text-overflow: hidden;" class="bug-title-big"><a href="https://bugzilla.mozilla.org/show_bug.cgi?id={{bug.id}}" target="_blank">{{bug.summary}}</a> <span class="label label-{{bug.label}} pull-right">{{bug.age}} days</span></h4>
        <ul style="list-style: none;">
          <li ng-repeat="depends_on in bug.depends_on">
            <span style="width: 30px; margin-right: 6px; text-align: center;" class="label label-{{depends_on.shortStatusColor}}">{{depends_on.shortStatus}}</span>
            <a href="https://bugzilla.mozilla.org/show_bug.cgi?id={{depends_on.id}}" target="_blank">
              <span class="bug-{{depends_on.status}}">{{depends_on.id}} {{depends_on.summary}}</span>
            </a>
          </li>
        </ul>
      </div>
    </div>

    <div ng-show="tab == 'stats'">
      <h3>Quarterly Stats</h3>

      <h4>2012 Q4</h4>

      <table class="table table-striped">
        <thead>
          <tr>
            <th>Team</th>
            <th>Total</th>
            <th>Open</th>
            <th>Fixed</th>
            <th>Invalid</th>
            <th>Other</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Finance</td>
            <td>1</td>
            <td>0</td>
            <td>1</td>
            <td>0</td>
            <td>0</td>
          </tr>
          <tr>
            <td>Privacy</td>
            <td>55</td>
            <td>19</td>
            <td>23</td>
            <td>10</td>
            <td>3</td>
          </tr>
          <tr>
            <td>Legal</td>
            <td>0</td>
            <td>0</td>
            <td>0</td>
            <td>0</td>
            <td>0</td>
          </tr>
          <tr>
            <td>Security</td>
            <td>56</td>
            <td>12</td>
            <td>12</td>
            <td>31</td>
            <td>1</td>
          </tr>
          <tr>
            <td>Other</td>
            <td>16</td>
            <td>2</td>
            <td>14</td>
            <td>0</td>
            <td>0</td>
          </tr>
          <tr>
            <td>Data</td>
            <td>13</td>
            <td>5</td>
            <td>1</td>
            <td>6</td>
            <td>1</td>
          </tr>
          <tr>
            <td>Hidden</td>
            <td>183</td>
            <td>0</td>
            <td>0</td>
            <td>0</td>
            <td>0</td>
          </tr>
        </tbody>
      </table>

    </div>

</div>
